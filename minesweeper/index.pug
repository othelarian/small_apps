mixin togsetting(left, right, fn, id)
  .tog-settings
    svg(width=43, height=20)
      line(x1=10, y1=10, x2=33, y2=10)
      circle.set-select(id=id+'-c', cx=33, cy=10, r=10)
      use.font(id=id+'-l', y=4, x=6, height=24, href='#'+left)
      use.font(id=id+'-r', y=4, x=43, height=24, href='#'+right)
      each v in [[10, 0], [33, 1]]
        circle(
          fill='#fff0', cx=v[0], cy=10, r=10,
          onclick="App.settings('"+fn+"',"+v[1]+')'
        )

doctype html
html
  head(lang='en')
    title mineSweeper
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width,initial-scale=1')
    link(rel='stylesheet', href='style.css')
    script(type='text/javascript', src='app.js')
  body(onload='App.init()')
    svg(
      xmlns='http://www.w3.org/2000/svg', width='0', height='0',
      style='display:none'
    )
      defs#hsf!= fonts
    h1 Minesweeper
    #config
      label(for='form-rows') number of rows:
      input#form-rows(type='number', min=1, max=100, value=15)
      label(for='form-columns') number of columns:
      input#form-columns(type='number', min=1, max=100, value=10)
      label(for='form-mines') number of mines:
      input#form-mines(type='number', min=1, max=9999, value=40)
      div: button(onclick='App.play()') Play!
    #load-save
      //
      // TODO: loading the last game
      //
    .settings
      +togsetting('moon', 'sun', 'theme', 'set-theme')
      +togsetting('volumeX', 'volume2', 'sound', 'set-sound')
    #mines
      .menu
        button#quit(onclick='App.quit()')
        span &nbsp;|&nbsp;Mines:&nbsp;
        //
        // TODO: adding timer
        //
        #state-play
          span#left
          span /
          span#total
        #state-fail
          span You failed!
          span#rest (/)
        #state-success
          span Success!
        #state-end
          span &nbsp;|&nbsp;
          button(onclick='App.play()') Restart
      #thegrid
      //
      // TODO: pause mode
      //
      #pause-veil
      //
    .details
      //
      // TODO: sound on/off
      //
      // TODO: dark mode
      //